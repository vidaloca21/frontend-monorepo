# packages/config

### @ci-repo/eslint-config @ci-repo/prettier-config @ci-repo/typescript-config

### **1. 목적**

**개요**

- eslint, prettier, typescript 전역 공유 설정 경로입니다.
- postcss-config 등의 설정이 필요한 경우 추가 작성하는 경로입니다.
- 워크스페이스 전반에서 **ESLint / Prettier / TypeScript** 규칙을 중앙에서 관리하여, 반복 설정을 줄이고 코드 일관성을 확보하고자 합니다.

### **2. 구조 및 역할**

**디렉토리 구조**

```bash
packages/config/
	├── eslint-config/
	│     ├── package.json
	│     ├── index.js
	│     └── ...
	├── prettier-config/
	│     ├── package.json
	│     └── index.js
	└── typescript-config/
	      ├── package.json
	      ├── base.json
	      ├── react.json
	      ├── lib.json
	      └── ...
```

**eslint-config/**

- **package.json:** 패키지 이름(예: @ci-repo/eslint-config)과 배포/참조 정보를 정의
- **index.js:** 공유 ESLint 설정의 엔트리 포인트. 플러그인/확장 규칙 집계를 이 파일에서 수행하며, 소비 패키지는 extends로 이 엔트리를 사용
- **역할:** 모노레포 전역 ESLint 규칙의 단일 출처(SSoT)

**prettier-config/**

- **package.json:** 패키지 이름(예: @ci-repo/prettier-config) 정의
- **index.js:** Prettier 규칙의 단일 진입점. 소비 패키지는 package.json의 prettier 필드로 참조
- **역할:** 포맷 규칙을 중앙에서 통일하여, 에디터/CI/PR에서 일관된 결과 보장

**typescript-config/**

- **package.json:** 패키지 이름(예: @ci-repo/typescript-config) 정의
- **base.json:** 공통 TS 옵션의 최소 집합. 런타임/프레임워크에 구애받지 않는 기본 규칙
- **react.json:** React/Next.js 프로젝트용 확장 설정. base.json을 extends로 상속받아, JSX/경로 별칭 등을 추가
- **lib.json:** 라이브러리 패키지용 경량 설정. 선언/배포 정책에 맞춰 최소 옵션으로 구성
- **역할:** TS 옵션의 계층형 상속 체계 제공 → 앱/라이브러리가 각자 필요 최소만 덮어쓰기

### **3. 다른 패키지에서의 사용**

**ESLint 적용**

- **소비 패키지의 package.json:**
- **스크립트 예시:** "lint": "eslint . --ext .ts,.tsx"
- **의도:** eslintConfig.extends에 @ci-repo/eslint-config를 추가

**Prettier 적용**

- **소비 패키지의 package.json:** "prettier": "@ci-repo/prettier-config" 지정
- **스크립트 예시:** "format": "prettier --write ."
- **의도:** 코드 스타일 충돌을 제거하고, 에디터/CI에서 동일 결과 보장

**TypeScript 적용**

- **앱(React/Next.js):** tsconfig.json의 extends에 @ci-repo/typescript-config/react.json
- **스크립트 예시:** tsconfig.json의 extends에 @ci-repo/typescript-config/lib.json
- **의도:** 공통 규칙을 상속하되, 각 프로젝트 고유 설정은 최소 범위로만 덮어씀

### **4. 체크리스트**

- **패키지명 일치:** 소비 측 extends, prettier, extends(tsconfig)에 적는 패키지명이 실제 packages/config/*/package.json의 name과 일치해야 함
- **경로/별칭 정합성:** TS baseUrl/paths는 각 소비 패키지의 소스 레이아웃에 맞게 최소만 조정
- **에디터 설정:** VSCode 등에서 Prettier를 기본 포맷터로 지정해야 포맷 일관성 보장
- **스크립트 표준화:** 모든 패키지에서 lint, typecheck, format 스크립트명을 통일 (터보 파이프라인 일관성 확보)